"use strict";!function(e,r){function t(e,r,t){var n=u[r];if(n){var o;"notify"==t?o=n.notify:(delete u[r],o=t?n.resolve:n.reject);for(var i=arguments.length,a=Array(i>3?i-3:0),s=3;s<i;s++)a[s-3]=arguments[s];o.apply(this,a)}}function n(e,r){return e+"_"+r}function o(e,r){var t=n(e,r),o=f[t];if(!o)return this;o=o.concat().sort(function(e,r){return r.options.priority-e.options.priority});for(var i=arguments.length,a=Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];for(var c=0;c<o.length;c++)o[c].callback.apply(this,a);return this}var i=require("path"),a=process.defaultApp||/[\\/]electron-prebuilt[\\/]/.test(process.execPath)||/[\\/]electron[\\/]/.test(process.execPath);module.paths.push(a?i.resolve("app","node_modules"):i.resolve(__dirname,"..","..","app.asar","node_modules"));var s=require("electron").ipcRenderer,c=(require("electron-is"),require("q")),l=[],u={},p=0,f={},h={},v={};r.postMessage=function(e){l.indexOf(e)<0&&(s.on(e,t),l.push(e));var r=c.defer();u[++p]=r;for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return s.send.apply(this,[e,p].concat(o)),r.promise},r.listenMessage=function(e,r){var t=this;return s.on(e,function(e,n){r.apply(t,n)}),this},r.on=function(e,r,t,o){(o=o||{}).priority=o.priority||0,o.canReset=!1!==o.canReset;var i=n(e,r),a=f[i];return a||(a=[],f[i]=a),a.push({callback:t,options:o}),this},r.off=function(e,r,t){var o=n(e,r),i=f[o];if(!i)return this;for(var a=0;a<i.length;a++)if(i[a].callback==t){i.splice(a,1);break}return this},r.trigger=o,r.delayTrigger=function(e,r,t){for(var i=arguments.length,a=Array(i>3?i-3:0),s=3;s<i;s++)a[s-3]=arguments[s];var c=this,l=n(r,t),u=h[l];return u&&clearTimeout(u),u=setTimeout(function(){delete h[l],o.apply(c,[r,t].concat(a))},e),h[l]=u,this},r.reset=function(){for(var e in f){for(var r=f[e],t=r.length-1;t>=0;t--)r[t].options.canReset&&r.splice(t,1);0==r.length&&delete f[e]}for(var e in h){var n=h[e];n&&clearTimeout(n),delete h[e]}return h={},Object.keys(v).forEach(function(e){delete v[e]}),this},r.view=v,r.isPC=!0}(window,window.kenrobot||(window.kenrobot={}));